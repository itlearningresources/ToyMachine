
cat TOY.java | gawk '
/case.*II/ { print $0; next;}
/SUBSET/ { print $0; next;}' |
sed 's/case//' |
sed 's/II.*op,/,/'  |
sed 's/://'  |
sed 's/ ,/,/g'  |
sed 's/, /,/g'  |
sed 's/);$//g'  |
sed 's/);[ \t]*$//g'  |
sed 's/^ [ ]*//g'   |
sed 's/["]//g'  |
sed 's/, /,/g'  |
gawk -F, '
/SUBSET/ {
    sz = $0
    gsub(/^.*[:]/, "  " ,sz)
    print "//"
    print "//" sz 
    next
}
{
    printf("//   %4s %-33s %-40s\n", $1,$2,$3) 

}' | grep -v reserved | tee instructionset.txt


